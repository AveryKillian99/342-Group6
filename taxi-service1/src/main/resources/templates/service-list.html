<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Review List</title>
</head>
<body>
<h1>All Reviews</h1>
<table>
  <thead>
  <tr>
    <th>User ID</th>
    <th>Service ID</th>
    <th>Content</th>
    <th>Status</th>
    <th>Actions</th>
  </tr>
  </thead>
  <tbody>
  <tr th:each="review : ${reviews}">
    <td th:text="${review.userId}"></td>
    <td th:text="${review.serviceId}"></td>
    <td th:text="${review.content}"></td>
    <td>
      <form th:action="@{/reviews/update/{id}(id=${review.id})}" method="post">
        <select name="status">
          <option value="allowed" th:selected="${review.status == 'allowed'}">Allow</option>
          <option value="blocked" th:selected="${review.status == 'blocked'}">Block</option>
        </select>
        <button type="submit">Update</button>
      </form>
    </td>
    <td>
      <a th:href="@{/reviews/delete/{id}(id=${review.id})}">Delete</a>
    </td>
  </tr>
  </tbody>
</table>
<a href="/reviews/add">Add Review</a>
</body>
</html>
